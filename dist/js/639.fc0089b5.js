"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[639],{6639:function(s,t,o){o.r(t),o.d(t,{default:function(){return u}});o(4114);var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"search"},[t("van-nav-bar",{attrs:{fixed:"",title:"商品列表","left-arrow":""},on:{"click-left":function(t){return s.$router.go(-1)}}}),t("van-search",{attrs:{readonly:"",shape:"round",background:"#ffffff",value:s.querySearch||"搜索商品","show-action":""},on:{click:function(t){return s.$router.push("/search")}},scopedSlots:s._u([{key:"action",fn:function(){return[t("van-icon",{staticClass:"tool",attrs:{name:"apps-o"},on:{click:function(t){return s.$router.push("/category")}}})]},proxy:!0}])}),t("div",{staticClass:"sort-btns"},[t("div",{ref:"zh",staticClass:"sort-item",attrs:{name:"zh"},on:{click:function(t){return s.change(t)}}},[s._v("综合")]),t("div",{ref:"goods_sales",staticClass:"sort-item",attrs:{name:"goods_sales"},on:{click:function(t){return s.change(t)}}},[s._v("销量")]),t("div",{ref:"goods_price_max",staticClass:"sort-item",attrs:{name:"goods_price_max"},on:{click:function(t){return s.change(t)}}},[s._v("价格 ")])]),t("div",{staticClass:"goods-list"},s._l(s.proList,(function(s){return t("GoodsItem",{key:s.goods_image,attrs:{item:s}})})),1)],1)},r=[],a=o(6923),i=o(6379),c={name:"SearchIndex",components:{GoodsItem:a.A},data(){return{page:1,proList:[],proList1:[],value:"zh"}},computed:{querySearch(){return this.$route.query.search}},async created(){const{data:{list:s}}=await(0,i.Cd)({categoryId:this.$route.query.categoryId,goodsName:this.querySearch,page:this.page});this.proList=s.data,this.proList1=[...this.proList],this.$refs.zh.style.color="red"},methods:{change(s){this.value=s.target.getAttribute("name")}},watch:{value(s,t){"goods_sales"===s&&(this.$refs.zh.style.color="",this.$refs.goods_price_max.style.color="",this.$refs.goods_sales.style.color="red",this.proList=this.proList.slice().sort(((s,t)=>t.goods_sales-s.goods_sales))),"goods_price_max"===s&&(this.$refs.zh.style.color="",this.$refs.goods_price_max.style.color="red",this.$refs.goods_sales.style.color="",this.proList=this.proList.slice().sort(((s,t)=>s.goods_sales-t.goods_sales))),"zh"===s&&(this.$refs.zh.style.color="red",this.$refs.goods_price_max.style.color="",this.$refs.goods_sales.style.color="",this.proList=this.proList1)}}},n=c,l=o(1656),d=(0,l.A)(n,e,r,!1,null,"c2d7e2be",null),u=d.exports},6379:function(s,t,o){o.d(t,{B7:function(){return a},Cd:function(){return r},Yv:function(){return i}});var e=o(5720);const r=s=>{const{categoryId:t,goodsName:o,page:r}=s;return e.A.get("/goods/list",{params:{categoryId:t,goodsName:o,page:r}})},a=s=>e.A.get("/goods/detail",{params:{goodsId:s}}),i=(s,t)=>e.A.get("/comment/listRows",{params:{goodsId:s,limit:t}})}}]);
//# sourceMappingURL=639.fc0089b5.js.map